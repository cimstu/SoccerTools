openapi: 3.0.3
info:
  title: SoccerTools API
  description: API 规格先行；实现需符合本 spec。
  version: 0.1.0

servers:
  - url: http://localhost:3000
    description: 本地开发

paths:
  # 示例：健康检查（实现时按此契约）
  /health:
    get:
      summary: 健康检查
      operationId: getHealth
      responses:
        '200':
          description: 服务正常
          content:
            application/json:
              schema:
                type: object
                required: [status]
                properties:
                  status:
                    type: string
                    example: ok

  # 巴萨比赛录像：查询最近 N 天（默认 7 天）
  /replays:
    get:
      summary: 查询巴塞罗那比赛录像（最近 N 天）
      operationId: getBarcelonaReplays
      parameters:
        - name: days
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 30
            default: 7
          description: 最近天数，默认 7
      responses:
        '200':
          description: 录像列表
          content:
            application/json:
              schema:
                type: object
                required: [items]
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/ReplayItem'
        '400':
          description: 参数错误

components:
  schemas:
    ReplayItem:
      type: object
      required: [title, url, date]
      properties:
        title:
          type: string
          description: 比赛标题，如 巴塞罗那vsXXX
        url:
          type: string
          format: uri
        date:
          type: string
          format: date
  securitySchemes: {}
